#pragma checksum "C:\SAIM\TELFAIR\Telfair_Backoffice\Telfair_Backoffice\Telfair_Backoffice\Views\Curriculum\ViewCurriculum.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "4c7aa66386f1e22cf0dc5b03722e32331ec169b6"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Views_Curriculum_ViewCurriculum), @"mvc.1.0.view", @"/Views/Curriculum/ViewCurriculum.cshtml")]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"4c7aa66386f1e22cf0dc5b03722e32331ec169b6", @"/Views/Curriculum/ViewCurriculum.cshtml")]
    public class Views_Curriculum_ViewCurriculum : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<Telfair_Backend.Classes.Models.CurriculumPagedModel>
    {
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
#nullable restore
#line 3 "C:\SAIM\TELFAIR\Telfair_Backoffice\Telfair_Backoffice\Telfair_Backoffice\Views\Curriculum\ViewCurriculum.cshtml"
  
    Layout = "_Layout";
    ViewData["Title"] = "View Curriculum";
    var role = (string)ViewBag.RoleName;

#line default
#line hidden
#nullable disable
#nullable restore
#line 8 "C:\SAIM\TELFAIR\Telfair_Backoffice\Telfair_Backoffice\Telfair_Backoffice\Views\Curriculum\ViewCurriculum.cshtml"
Write(Html.HiddenFor(x => x.Total));

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n");
#nullable restore
#line 9 "C:\SAIM\TELFAIR\Telfair_Backoffice\Telfair_Backoffice\Telfair_Backoffice\Views\Curriculum\ViewCurriculum.cshtml"
Write(Html.HiddenFor(x => x.PageCount));

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n");
#nullable restore
#line 10 "C:\SAIM\TELFAIR\Telfair_Backoffice\Telfair_Backoffice\Telfair_Backoffice\Views\Curriculum\ViewCurriculum.cshtml"
Write(Html.HiddenFor(x => x.PageSize));

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n");
#nullable restore
#line 11 "C:\SAIM\TELFAIR\Telfair_Backoffice\Telfair_Backoffice\Telfair_Backoffice\Views\Curriculum\ViewCurriculum.cshtml"
Write(Html.HiddenFor(x => x.CurrentPage));

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n");
#nullable restore
#line 12 "C:\SAIM\TELFAIR\Telfair_Backoffice\Telfair_Backoffice\Telfair_Backoffice\Views\Curriculum\ViewCurriculum.cshtml"
 using (Html.BeginForm())
{


#line default
#line hidden
#nullable disable
            WriteLiteral(@"    <div class=""row"">
        <div class=""col-md-12"">
            <!-- general form elements -->
            <div class=""box box-primary"">
                <div class=""box-header with-border"">
                    <h3 class=""box-title"">Search Criteria</h3>
                    <div class=""box-tools pull-right"">
                        <button type=""button"" class=""btn btn-box-tool"" data-widget=""collapse""><i class=""fa fa-minus""></i></button>
                    </div>
                </div>
                <div class=""box-body"">
                    <div class=""row"">
                        <div class=""col-md-2"">
                            <div class=""form-group"">
                                <div class=""form-group has-feedback"">
                                    Name:");
#nullable restore
#line 30 "C:\SAIM\TELFAIR\Telfair_Backoffice\Telfair_Backoffice\Telfair_Backoffice\Views\Curriculum\ViewCurriculum.cshtml"
                                    Write(Html.TextBox("curriculumNameSearch", ViewBag.CurriculumName as string, htmlAttributes: new { @class = "form-control" }));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"
                                </div>

                            </div>
                            <!-- /.form-group -->
                        </div>
                        <div class=""col-md-2"">
                            <div class=""form-group"">
                                <div class=""form-group has-feedback"">
                                    Description: ");
#nullable restore
#line 39 "C:\SAIM\TELFAIR\Telfair_Backoffice\Telfair_Backoffice\Telfair_Backoffice\Views\Curriculum\ViewCurriculum.cshtml"
                                            Write(Html.TextBox("curriculumDescriptionSearch", ViewBag.CurriculumDescription as string, htmlAttributes: new { @class = "form-control" }));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"
                                </div>
                            </div>

                            <!-- /.form-group -->
                        </div>


                        <br />
                        <div class=""col-md-2"">
                            <div class=""form-group"">
                                <div class=""form-group has-feedback"">
                                    <button id=""filterQualityControl"" type=""button"" class=""btn btn-primary btn-block"" onclick=""return LoadCurriculums(1);""> Search </button>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>

    </div>
");
            WriteLiteral(@"    <!-- left column -->
    <div class=""col-md-12"">
        <!-- general form elements -->
        <div class=""box box-primary"">
            <div class=""box-header with-border"">
                <h3 class=""box-title"">View Curriculum</h3>
            </div>
            <div id=""Grid"">
                ");
#nullable restore
#line 75 "C:\SAIM\TELFAIR\Telfair_Backoffice\Telfair_Backoffice\Telfair_Backoffice\Views\Curriculum\ViewCurriculum.cshtml"
           Write(Html.Hidden("role", role));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"
                <table id=""Curriculum"" class=""table"">
                    <tr>
                        <th>
                            Name
                        </th>
                        <th>
                            Description
                        </th>
                        <th>
                            Level
                        </th>
                    </tr>

                </table>
                <ul id=""paginationDiv"" class=""pagination""></ul>
            </div>
        </div>
    </div>
");
            WriteLiteral(@"    <div class=""modal fade"" id=""modal-default"">
        <div class=""modal-dialog"">
            <div class=""modal-content"">
                <div class=""modal-header"">
                    <button type=""button"" class=""close"" data-dismiss=""modal"" aria-label=""Close"">
                        <span aria-hidden=""true"">&times;</span>
                    </button>
                    <h4 class=""modal-title"">Curriculum Details</h4>
                </div>
                <div class=""modal-body"">
                    <div id=""Grid"">

                        <table id=""CurriculumDetails"" class=""table"">
                            <tr>
                                <th>
                                    Subject
                                </th>
                                <th>
                                    Lesson
                                </th>
                                <th>
                                    Objectives
                                </th>
              ");
            WriteLiteral(@"                  <th>
                                    Week
                                </th>
                                <th>
                                    Day
                                </th>

                            </tr>
                        </table>
                    </div>
                    <ul id=""paginationModalDiv"" class=""pagination""></ul>
                </div>
                <div class=""modal-footer"">
                    <button type=""button"" class=""btn btn-default pull-left"" data-dismiss=""modal"">Close</button>
");
            WriteLiteral("                </div>\r\n            </div>\r\n            <!-- /.modal-content -->\r\n        </div>\r\n        <!-- /.modal-dialog -->\r\n    </div>\r\n");
#nullable restore
#line 139 "C:\SAIM\TELFAIR\Telfair_Backoffice\Telfair_Backoffice\Telfair_Backoffice\Views\Curriculum\ViewCurriculum.cshtml"
}

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n");
            DefineSection("Scripts", async() => {
                WriteLiteral(@"
    <script type=""text/javascript"">
        var test = '';
        var curriculums = '';
        var curriculumDetails = '';
        $(document)
            .ready(function () {
                LoadCurriculums(1);
            });


        function LoadCurriculums(pageid) {
            var name = $(""#curriculumNameSearch"").val();
            var description = $(""#curriculumDescriptionSearch"").val();


            //var page = document.getElementById(""Page"").value;
            $.ajax(
                {
                    type: ""GET"",
                    url: ""/Curriculum/GetCurriculumsPaged"",
                    data: { employeeId: '', name: name, description: description, levelnodeid: '', page: pageid,pagesize:10 },
                    contentType: ""application/json;charset=utf-8"",
                    dataType: ""json"",
                    success: function (data) {
                        curriculums = data.curriculumModels;
                        $('#PageSize').val(data.pageSize)");
                WriteLiteral(@";

                        $(""#Curriculum tr:gt(0)"").remove();
                        var table = document.getElementById(""Curriculum"");
                        var role = $('#role').val();
                        for (i = 0; i < data.curriculumModels.length; i++) {
                            var item = data.curriculumModels[i];
                            var row = table.insertRow();
                            var cell1 = row.insertCell(0);
                            var cell2 = row.insertCell(1);
                            var cell3 = row.insertCell(2);
                            var cell4 = row.insertCell(3);
                            var cell5 = row.insertCell(4);
                            var cell6 = row.insertCell(5);

                            cell1.innerHTML = item.name;//""NEW CELL1"";
                            cell2.innerHTML = item.description;
                            cell3.innerHTML = item.levelNodeName;

                            if (role.toLowerCase() == ""adm");
                WriteLiteral(@"inistrator"")
                            {
                                //edit button
                                var btnEdit = document.createElement('input');
                                btnEdit.id = item.id;
                                btnEdit.type = ""button"";
                                btnEdit.className = ""btn btn-primary"";
                                btnEdit.value = ""Edit"";
                                cell4.appendChild(btnEdit);
                                doClickEdit(btnEdit, item.id);

                                //delete button
                                var btnDelete = document.createElement('input');
                                btnDelete.id = item.id;
                                btnDelete.type = ""button"";
                                btnDelete.className = ""btn btn-primary"";
                                doClickDelete(btnDelete, item.id);
                                btnDelete.value = ""Delete"";
                                ");
                WriteLiteral(@"cell4.appendChild(btnDelete);
                            }

                            //view details button
                            var btn = document.createElement('input');
                            btn.id = item.id;
                            btn.type = ""button"";
                            btn.className = ""btn btn-primary"";
                            doClickView(btn, item.id, 1);
                            btn.value = ""Details"";

                            //dropdown div
                            //var dropdown = document.createElement('div');
                            //dropdown.className = 'dropdown';

                            //var dropdownbutton = document.createElement('a');
                            //dropdownbutton.setAttribute('class', 'btn btn-secondary dropdown-toggle');
                            //dropdownbutton.setAttribute('href', '#');
                            //dropdownbutton.setAttribute('id', 'dropdownMenuLink');
                            //");
                WriteLiteral(@"dropdownbutton.setAttribute('role', 'button');
                            //dropdownbutton.setAttribute('data-toggle', 'dropdown');
                            //dropdownbutton.setAttribute('aria-haspopup', 'true');
                            //dropdownbutton.setAttribute('aria-expanded', 'false');

                            ////dropdown menu div
                            //var dropdownmenu = document.createElement('div');
                            //dropdownmenu.className = 'dropdown-menu';

                            ////dropdown item
                            //var edit = document.createElement('a');
                            //edit.className = 'dropdown-item';
                            //edit.href = '#';
                            //doClickEdit(edit, item.id);

                            //dropdownmenu.appendChild(edit);
                            //dropdown.appendChild(dropdownbutton);
                            //dropdown.appendChild(dropdownmenu);
                  ");
                WriteLiteral(@"          //cell4.appendChild(dropdown);
                            cell4.appendChild(btn);
                        }

                        $('#paginationDiv').pagination({
                            // the number of entries
                            total: data.total,//$(""#Total"").val(),
                            // current page
                            current: data.currentPage,// $(""#CurrentPage"").val(),
                            // the number of entires per page
                            length: 10,
                            // pagination size
                            size: data.curriculumModels.length,
                            // Prev/Next text
                            prev: ""&lt;"",
                            next: ""&gt;"",
                            // fired on each click
                            click: function (e) {
                                LoadCurriculums(e.current)
                            }

                        });
                 ");
                WriteLiteral(@"   }
                });

            return false;

        };

        function doClickView(btn, id,pageid) {

            btn.onclick = function ()
            {

                $.ajax(
                    {
                        type: ""GET"",
                        url: ""/Curriculum/GetCurriculumDetailsPaged"",
                        data: { curriculumId: id, page: pageid, pagesize: 50000},
                        contentType: ""application/json;charset=utf-8"",
                        dataType: ""json"",
                        success: function (data) {
                            curriculumDetails = data;
                            $(""#CurriculumDetails tr:gt(0)"").remove();
                            var table = document.getElementById(""CurriculumDetails"");
           

                            for (j = 0; j < curriculumDetails.curriculumDetailsModels.length; j++) {
                                var item2 = curriculumDetails.curriculumDetailsModels;
                    ");
                WriteLiteral(@"            var row = table.insertRow();
                                //var cell1 = row.insertCell(0);
                                var cell1 = row.insertCell(0);
                                var cell2 = row.insertCell(1);
                                var cell3 = row.insertCell(2);
                                var cell4 = row.insertCell(3);
                                var cell5 = row.insertCell(4);


                                //cell1.innerHTML = item2.name;//""NEW CELL1"";
                                cell1.innerHTML = item2[j].subjectName;
                                cell2.innerHTML = item2[j].lessonName;
                                cell3.innerHTML = item2[j].objectives;
                                cell4.innerHTML = item2[j].week;
                                var daysListe = (item2[j].day).split('-');
                                var htmaka = '';
                                var days = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday'];
  ");
                WriteLiteral(@"                              for (var k = 0; k < daysListe.length; k++) {
                                    if (daysListe[k] != '') {
                                        if (k > 0) htmaka += ', ';
                                        if(days[daysListe[k] - 1]) htmaka += days[daysListe[k] - 1];
                                    }
                                }
                                if (htmaka == '') htmaka = item2[j].day;
                                cell5.innerHTML = htmaka;
                            }

                            //$('#paginationModalDiv').pagination({
                            //    // the number of entries
                            //    total: data.total,//$(""#Total"").val(),
                            //    // current page
                            //    current: data.currentPage,// $(""#CurrentPage"").val(),
                            //    // the number of entires per page
                            //    length: 1,
                 ");
                WriteLiteral(@"           //    // pagination size
                            //    size: 1,
                            //    // Prev/Next text
                            //    prev: ""&lt;"",
                            //    next: ""&gt;"",
                            //    // fired on each click
                            //    click: function (e) {

                            //        doClickView(btn,id,e.current)
                            //    }

                            //});
                            

                            $('#modal-default').modal('show');
                        }
                    });
            }
        };

        function doClickEdit(btn, id) {

            btn.onclick = function () { Edit(id) }
        };

        function doClickDelete(btn,id) {
            btn.onclick = function () {
                deleteUser(id)
            }
        };


        function Delete(id){

            $.ajax(
            {
                type: ""GET"",
  ");
                WriteLiteral(@"              url: ""/Curriculum/DeleteCurriculum"",
                data: { id: id},
                contentType: ""application/json;charset=utf-8"",
                dataType: ""json"",
                    success: function (data)
                    {
                        LoadCurriculums();
                    }
                });
            return false;
        };

        function Edit(id) {
            location.href = '");
#nullable restore
#line 375 "C:\SAIM\TELFAIR\Telfair_Backoffice\Telfair_Backoffice\Telfair_Backoffice\Views\Curriculum\ViewCurriculum.cshtml"
                        Write(Url.Action("Edit", "Curriculum"));

#line default
#line hidden
#nullable disable
                WriteLiteral("?id=\'+id;\r\n        }\r\n\r\n    </script>\r\n\r\n");
            }
            );
            WriteLiteral(@"    <script>
        (function () {
            var link = document.getElementById(""curriculum-link"");
            if (link) link.classList.add(""active_link"");
        })();
    </script>

    <script type=""text/javascript"">
        function deleteUser(id) {
            if (confirm(""Do you want to delete this item?"")) {
                window.location.href = ""/Curriculum/Delete/"" + id;
            }
        }
    </script>
");
#nullable restore
#line 395 "C:\SAIM\TELFAIR\Telfair_Backoffice\Telfair_Backoffice\Telfair_Backoffice\Views\Curriculum\ViewCurriculum.cshtml"
 if (ViewBag.error != null) {

#line default
#line hidden
#nullable disable
            WriteLiteral(" <script> showNotification(\'Error\', \'");
#nullable restore
#line 395 "C:\SAIM\TELFAIR\Telfair_Backoffice\Telfair_Backoffice\Telfair_Backoffice\Views\Curriculum\ViewCurriculum.cshtml"
                                                             Write(ViewBag.error);

#line default
#line hidden
#nullable disable
            WriteLiteral("\', \'error\'); </script> ");
#nullable restore
#line 395 "C:\SAIM\TELFAIR\Telfair_Backoffice\Telfair_Backoffice\Telfair_Backoffice\Views\Curriculum\ViewCurriculum.cshtml"
                                                                                                       }

#line default
#line hidden
#nullable disable
#nullable restore
#line 396 "C:\SAIM\TELFAIR\Telfair_Backoffice\Telfair_Backoffice\Telfair_Backoffice\Views\Curriculum\ViewCurriculum.cshtml"
 if (ViewBag.success != null) {

#line default
#line hidden
#nullable disable
            WriteLiteral(" <script> showNotification(\'Success\', \'");
#nullable restore
#line 396 "C:\SAIM\TELFAIR\Telfair_Backoffice\Telfair_Backoffice\Telfair_Backoffice\Views\Curriculum\ViewCurriculum.cshtml"
                                                                 Write(ViewBag.success);

#line default
#line hidden
#nullable disable
            WriteLiteral("\', \'success\'); </script> ");
#nullable restore
#line 396 "C:\SAIM\TELFAIR\Telfair_Backoffice\Telfair_Backoffice\Telfair_Backoffice\Views\Curriculum\ViewCurriculum.cshtml"
                                                                                                               }

#line default
#line hidden
#nullable disable
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<Telfair_Backend.Classes.Models.CurriculumPagedModel> Html { get; private set; }
    }
}
#pragma warning restore 1591
